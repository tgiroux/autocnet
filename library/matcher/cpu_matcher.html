<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>matcher.cpu_matcher — CPU Based n-Keypoint Matcher &mdash; AutoCNet</title>
    
    <link rel="stylesheet" type="text/css" href="../../_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../../_static/css/spc-extend.css">
    <link rel="stylesheet" href="../../_static/scipy.css" type="text/css" >
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" >
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     'Please install this project with setup.py',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../None"></script>
    <script type="text/javascript" src="../../_static/js/copybutton.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" >
    <link rel="search" title="Search" href="../../search.html" >
    <link rel="top" title="AutoCNet" href="../../index.html" >
    <link rel="up" title="matcher — Graph Based Data Representaton" href="index.html" >
    <link rel="next" title="matcher.cpu_outlier_detector — Finding outliers in both the keypoints and the matches" href="cpu_outlier_detector.html" >
    <link rel="prev" title="matcher.cpu_extractor — Extracting Features from Images" href="cpu_extractor.html" > 
  </head>
  <body>

  <div class="container">
    <div class="header">
    </div>
  </div>


    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
	
        <li class="active"><a href="../../index.html">AutoCNet</a></li>
	
          <li class="active"><a href="../index.html" >Library Reference</a></li>
          <li class="active"><a href="index.html" accesskey="U"><code class="xref py py-mod docutils literal notranslate"><span class="pre">matcher</span></code> — Graph Based Data Representaton</a></li> 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="../../genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
      <li class="active">
        <a href="../../py-modindex.html" title="Python Module Index"
           >modules</a>
      </li>
      <li class="active">
        <a href="cpu_outlier_detector.html" title="matcher.cpu_outlier_detector — Finding outliers in both the keypoints and the matches"
           accesskey="N">next</a>
      </li>
      <li class="active">
        <a href="cpu_extractor.html" title="matcher.cpu_extractor — Extracting Features from Images"
           accesskey="P">previous</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="cpu_extractor.html"
                        title="previous chapter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">matcher.cpu_extractor</span></code> — Extracting Features from Images</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="cpu_outlier_detector.html"
                        title="next chapter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">matcher.cpu_outlier_detector</span></code> — Finding outliers in both the keypoints and the matches</a></p>
  <h3>This Page</h3>
  <div>
    <a href="../../_sources/library/matcher/cpu_matcher.rst.txt"
       rel="nofollow">Show Source</a>
  </div>
<div class="this-page-menu">
  <a href="/scipy/docs/scipy-docs/library/matcher/cpu_matcher.rst.rst">Edit page</a>
</div>

        </div>
      </div>
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body">
            
  <div class="section" id="matcher-cpu-matcher-cpu-based-n-keypoint-matcher">
<h1><code class="xref py py-mod docutils literal notranslate"><span class="pre">matcher.cpu_matcher</span></code> — CPU Based n-Keypoint Matcher<a class="headerlink" href="#matcher-cpu-matcher-cpu-based-n-keypoint-matcher" title="Permalink to this headline">¶</a></h1>
<p>The <code class="xref py py-mod docutils literal notranslate"><span class="pre">matcher.cpu_matcher</span></code> module</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.1.0.</span></p>
</div>
<span class="target" id="module-autocnet.matcher.cpu_matcher"></span><dl class="py class">
<dt id="autocnet.matcher.cpu_matcher.FlannMatcher">
<em class="property">class </em><code class="sig-prename descclassname">autocnet.matcher.cpu_matcher.</code><code class="sig-name descname">FlannMatcher</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">flann_parameters</span><span class="o">=</span><span class="default_value">{'algorithm': 1, 'trees': 3}</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/autocnet/matcher/cpu_matcher.html#FlannMatcher"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#autocnet.matcher.cpu_matcher.FlannMatcher" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper to the OpenCV Flann based matcher class that adds
metadata tracking attributes and methods.  This takes arbitrary
descriptors and so should be available for use with any
descriptor data stored as an ndarray.</p>
<dl class="py attribute">
<dt id="autocnet.matcher.cpu_matcher.FlannMatcher.image_indices">
<code class="sig-name descname">image_indices</code><a class="headerlink" href="#autocnet.matcher.cpu_matcher.FlannMatcher.image_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>with key equal to the train image index (returned by the DMatch object),
e.g. an integer array index
and value equal to the image identifier, e.g. the name</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="autocnet.matcher.cpu_matcher.FlannMatcher.image_index_counter">
<code class="sig-name descname">image_index_counter</code><a class="headerlink" href="#autocnet.matcher.cpu_matcher.FlannMatcher.image_index_counter" title="Permalink to this definition">¶</a></dt>
<dd><p>The current number of images loaded into the matcher</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="autocnet.matcher.cpu_matcher.FlannMatcher.add">
<code class="sig-name descname">add</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">descriptor</span></em>, <em class="sig-param"><span class="n">nid</span></em>, <em class="sig-param"><span class="n">index</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/autocnet/matcher/cpu_matcher.html#FlannMatcher.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#autocnet.matcher.cpu_matcher.FlannMatcher.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a set of descriptors to the matcher and add the image
index key to the image_indices attribute</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>descriptor</strong> (<em>ndarray</em>) – The descriptor to be added</p></li>
<li><p><strong>nid</strong> (<em>int</em>) – The node ids</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="autocnet.matcher.cpu_matcher.FlannMatcher.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/autocnet/matcher/cpu_matcher.html#FlannMatcher.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#autocnet.matcher.cpu_matcher.FlannMatcher.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all nodes from the tree and resets
all counters</p>
</dd></dl>

<dl class="py method">
<dt id="autocnet.matcher.cpu_matcher.FlannMatcher.query">
<code class="sig-name descname">query</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">descriptor</span></em>, <em class="sig-param"><span class="n">query_image</span></em>, <em class="sig-param"><span class="n">k</span><span class="o">=</span><span class="default_value">3</span></em>, <em class="sig-param"><span class="n">index</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/autocnet/matcher/cpu_matcher.html#FlannMatcher.query"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#autocnet.matcher.cpu_matcher.FlannMatcher.query" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>descriptor</strong> (<em>ndarray</em>) – The query descriptor to search for</p></li>
<li><p><strong>query_image</strong> (<em>hashable</em>) – Key of the query image</p></li>
<li><p><strong>k</strong> (<em>int</em>) – The number of nearest neighbors to search for</p></li>
<li><p><strong>index</strong> (<em>iterable</em>) – An iterable of observation indices to utilize for
the input descriptors</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>matched</strong> – containing matched points with columns containing:
matched image name, query index, train index, and
descriptor distance</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dataframe</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="autocnet.matcher.cpu_matcher.FlannMatcher.train">
<code class="sig-name descname">train</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/autocnet/matcher/cpu_matcher.html#FlannMatcher.train"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#autocnet.matcher.cpu_matcher.FlannMatcher.train" title="Permalink to this definition">¶</a></dt>
<dd><p>Using the descriptors, generate the KDTree</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="autocnet.matcher.cpu_matcher.match">
<code class="sig-prename descclassname">autocnet.matcher.cpu_matcher.</code><code class="sig-name descname">match</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">edge</span></em>, <em class="sig-param"><span class="n">k</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/autocnet/matcher/cpu_matcher.html#match"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#autocnet.matcher.cpu_matcher.match" title="Permalink to this definition">¶</a></dt>
<dd><p>Given two sets of descriptors, utilize a FLANN (Approximate Nearest
Neighbor KDTree) matcher to find the k nearest matches.  Nearness is
the euclidean distance between descriptors.</p>
<p>The matches are then added as an attribute to the edge object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>k</strong> (<em>int</em>) – The number of neighbors to find</p>
</dd>
</dl>
</dd></dl>

</div>


          </div>
        </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2017 - , AutoCNetDevelopers.
      </li>
      <li>
      Last updated on Jul 27, 2020.
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 3.1.2.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>